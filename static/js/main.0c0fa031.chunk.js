(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{17:function(e,t,a){e.exports=a(42)},23:function(e,t,a){},24:function(e,t,a){},25:function(e,t,a){},26:function(e,t,a){},39:function(e,t,a){},40:function(e,t,a){},41:function(e,t,a){},42:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),o=a(12),i=a.n(o),s=(a(23),a(9)),r=a(8),c=a(7),d=a(2),u=a(3),m=a(5),h=a(4),p=a(1),g=a(6);a(24),a(25);function b(e){var t=e.website,a=e.phone,n=e.companyName;return l.a.createElement("div",{className:"info-details"},l.a.createElement("ul",null,l.a.createElement("li",null,"User website: ",l.a.createElement("a",{href:t},t)),l.a.createElement("li",null,"Phone: ",a),l.a.createElement("li",null,'Company: "',n,'"')))}a(26);var f=a(16),v=a.n(f),E=function(e){function t(e){var a;return Object(d.a)(this,t),(a=Object(m.a)(this,Object(h.a)(t).call(this,e))).state={detailed:!1,showingLogin:!1},a._toggleDetails=a._toggleDetails.bind(Object(p.a)(a)),a._showLogin=a._showLogin.bind(Object(p.a)(a)),a._hideLogin=a._hideLogin.bind(Object(p.a)(a)),a}return Object(g.a)(t,e),Object(u.a)(t,[{key:"_toggleDetails",value:function(){this.setState(function(e){return{detailed:!e.detailed}})}},{key:"_showLogin",value:function(){this.setState({showingLogin:!0})}},{key:"_hideLogin",value:function(){this.setState({showingLogin:!1})}},{key:"render",value:function(){var e=this.state,t=e.detailed,a=e.showingLogin,n=this.props,o=n.name,i=n.username,s=n.phone,r=n.companyName,c=this.props,d=c.email,u=c.website,m=t?l.a.createElement("div",{className:"login"},l.a.createElement(b,{website:u,phone:s,companyName:r})):"",h=a?l.a.createElement("div",{className:"login"},"Write to user ",i):"";return/^mailto:\.+/.test(d)||(d="mailto:".concat(d)),/^https:\/\/\.+/.test(u)||(u="https://".concat(u)),l.a.createElement("div",{className:"info-user"},l.a.createElement("div",{className:"info-header"},l.a.createElement("span",{className:"detalizer",onClick:this._toggleDetails},t?"--":"+"),l.a.createElement("a",{href:d,onMouseOver:this._showLogin,onMouseLeave:this._hideLogin},o),l.a.createElement(v.a,{transitionName:"detailed",transitionEnterTimeout:800,transitionLeaveTimeout:500},h,m)))}}]),t}(n.Component),w=(a(39),function(e){function t(e){var a;return Object(d.a)(this,t),(a=Object(m.a)(this,Object(h.a)(t).call(this,e)))._handleChange=a._handleChange.bind(Object(p.a)(a)),a}return Object(g.a)(t,e),Object(u.a)(t,[{key:"_handleChange",value:function(){this.props.onToggleCompleted(this.props.id)}},{key:"render",value:function(){var e=this.props,t=e.title,a=e.completed,n=e.user;return l.a.createElement("section",{className:a?"list-item green":"list-item red"},l.a.createElement("div",{className:"item-subsection main-content"},l.a.createElement("label",{htmlFor:"state-checkbox",className:a?"todo-state item-subsection green":"todo-state item-subsection red"},l.a.createElement("input",{type:"checkbox",name:"state-checkbox",id:"state-checkbox",checked:a,onChange:this._handleChange}),a?"Done":"In process"),l.a.createElement("div",{className:"todo-title  item-subsection"},t)),l.a.createElement(E,n))}}]),t}(n.Component));a(40);var j=function(e){var t=function(t){if(!0===t)return e.todosData.map(function(t){return l.a.createElement(w,Object.assign({},t,{key:t.id,onToggleCompleted:e.handleCompletedChange}))});var a,n=(a=null!==t,Object(c.a)({},!0===a?{className:"load-button disabled",value:"Loading..."}:{className:"load-button",value:"Load data"},{disabled:!!a})),o=n.className,i=n.disabled,s=n.value;return l.a.createElement("button",{className:o,disabled:i,onClick:e.loadDataClick},s)}(e.loaded);return l.a.createElement("section",{className:"container"},t)};a(41);var D=function(e){var t=function(t){e.onFiltersChange(t.target.name,t.target.value)},a=e.names,n=e.filters,o=n.title,i=n.showingWithStatus,s=n.name;return l.a.createElement("section",{className:"filters"},l.a.createElement("label",{htmlFor:"title",className:"label-wrapper"},l.a.createElement("div",null,"Search in title:\u2003",l.a.createElement("span",{className:"arrow"},"\u2771")),l.a.createElement("input",{className:"inputs",id:"title",type:"text",name:"title",value:o,onChange:t})),l.a.createElement("label",{htmlFor:"showingStatus",className:"label-wrapper"},l.a.createElement("div",null,"Showed status: ",i,"\u2003",l.a.createElement("span",{className:"arrow"},"\u2771")),l.a.createElement("select",{className:"inputs",id:"showingStatus",name:"showingWithStatus",contentEditable:!1,value:i,onChange:t},l.a.createElement("option",{key:"All",value:"All"},"All"),l.a.createElement("option",{key:"In process",value:"In process"},"In process"),l.a.createElement("option",{key:"Done",value:"Done"},"Done"))),l.a.createElement("label",{htmlFor:"name",className:"label-wrapper"},l.a.createElement("div",null,"Show only user:\u2003",l.a.createElement("span",{className:"arrow"},"\u2771")),l.a.createElement("select",{className:"inputs",id:"name",value:s,name:"name",contentEditable:!1,onChange:t},a.map(function(e){return l.a.createElement("option",{key:e},e)}))))},O=function(e){function t(e){var a;return Object(d.a)(this,t),(a=Object(m.a)(this,Object(h.a)(t).call(this,e))).state={todosData:null,filteredTodosData:null,isDataLoaded:null,filters:{title:"",showingWithStatus:"All",name:""}},a.toggleStatus=a.toggleStatus.bind(Object(p.a)(a)),a.handleLoadDataClick=a.handleLoadDataClick.bind(Object(p.a)(a)),a.handleFiltersChanges=a.handleFiltersChanges.bind(Object(p.a)(a)),a}return Object(g.a)(t,e),Object(u.a)(t,[{key:"handleLoadDataClick",value:function(){var e=this,t=new XMLHttpRequest,a=new XMLHttpRequest,n=null,l=null,o=function(){var t=l.reduce(function(e,t){return Object(c.a)({},e,Object(r.a)({},t.id,t))},{}),a=n.map(function(e){var a=e.id,n=e.userId;return{id:a,title:e.title,completed:e.completed,user:t[n]}});e.setState({todosData:Object(s.a)(a),filteredTodosData:Object(s.a)(a),isDataLoaded:!0})};null===this.state.isDataLoaded&&this.setState({isDataLoaded:!1}),t.open("GET","https://jsonplaceholder.typicode.com/todos"),a.open("GET","https://jsonplaceholder.typicode.com/users"),t.responseType="json",a.responseType="json",t.send(),a.send(),t.addEventListener("load",function(){4===t.readyState&&(n=t.response,null!==l&&o())}),a.addEventListener("load",function(){4===t.readyState&&(l=a.response,null!==n&&o())})}},{key:"toggleStatus",value:function(e){this.setState(function(t){var a=t.todosData,n=t.filters,l=n.title,o=n.name,i=n.showingWithStatus,s=a.map(function(t){var a=t.id,n=t.title,l=t.user,o=t.completed;return a===e&&(o=!o),{id:a,title:n,completed:o,user:l}});return{todosData:s,filteredTodosData:s.filter(function(e){return e.title.includes(l)&&("All"===i||e.completed===("Done"===i))&&e.user.name.includes(o)})}})}},{key:"handleFiltersChanges",value:function(e,t){this.setState(function(a){var n=Object(c.a)({},a.filters,Object(r.a)({},e,t));return{filteredTodosData:a.todosData.filter(function(e){var t=e.title,a=e.completed,l=e.user.name;return t.includes(n.title)&&("All"===n.showingWithStatus||a===("Done"===n.showingWithStatus))&&l.includes(n.name)}),filters:Object(c.a)({},n)}})}},{key:"render",value:function(){var e=this.state,t=e.filteredTodosData,a=e.isDataLoaded,n=e.filters;return l.a.createElement("div",null,l.a.createElement("h1",null,"ToDo. . ."),a?l.a.createElement(D,{filters:n,names:Object(s.a)(new Set([].concat(Object(s.a)(t.map(function(e){return e.user.name})),[n.name,""]))),onFiltersChange:this.handleFiltersChanges}):"",l.a.createElement(j,{loaded:a,todosData:t,loadDataClick:this.handleLoadDataClick,handleCompletedChange:this.toggleStatus}))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(l.a.createElement(O,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[17,1,2]]]);
//# sourceMappingURL=main.0c0fa031.chunk.js.map